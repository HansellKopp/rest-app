<p-progressBar *ngIf="loading" mode="indeterminate" [style]="{ height: '4px' }"></p-progressBar>
<div class="surface-card p-4 shadow-2 border-round">
    <div *ngIf="!loading" class="text-3xl font-medium text-900 mb-3">{{ currentCategory.id ? currentCategory.name: "Add Category"  }}</div>
    <div class="font-medium text-500 mb-3"><a routerLink="{{listUrl}}" i18n>Go back</a></div>
    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit()">
      <div class="border-2 border surface-border  p-4 grid">
            <div class="field col">
              <label class="block" for="title" i18n>Name</label>
              <input type="text" pInputText id="name" formControlName="name" class="w-full"/>
              <small
                class="p-error block"
                *ngIf="
                categoryForm.controls['name'].invalid &&
                categoryForm.controls['name'].dirty
                "
                i18n>Field is required</small
              >
            </div>            
          </div>
          <div class="flex justify-content-between pt-4">
            <p-button label="Delete" icon="pi pi-trash" (click)="deleteCategory()" styleClass="p-button-danger"></p-button>
            <div class="flex justify-content-end gap-2">
              <p-button label="Save" icon="pi pi-check" (click)="onSubmit()"></p-button>
              <p-button label="Cancel" icon="pi pi-times" (click)="onCancel()" styleClass="p-button-secondary align-self-end "></p-button>
            </div>
          </div>
    </form>
</div>
<p-confirmDialog [style]="{ width: '450px' }"></p-confirmDialog>
<p-toast></p-toast>

